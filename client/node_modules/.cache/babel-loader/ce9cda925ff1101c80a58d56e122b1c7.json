{"ast":null,"code":"var _jsxFileName = \"D:\\\\554\\\\code-warriors\\\\client\\\\src\\\\components\\\\Posts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Navigation from \"./Navigation\";\nimport \"../App.css\";\nimport logoImg from \"../images/logo.gif\";\nimport $, { event } from \"jquery\";\nimport { Modal } from \"bootstrap\";\nimport { useNavigate, Navigate } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport cryptojs from \"crypto-js\";\nimport Session from \"react-session-api\";\nimport { ReactSession } from \"react-client-session\";\nimport { Form, FloatingLabel, Button, Row, Col } from \"react-bootstrap\";\nimport EditPost from \"./EditPost\";\nimport Like from \"./Like\";\nimport FormData from \"form-data\";\nimport UserImage from \"./UserImage\"; //const bcrypt = require('bcryptjs');\n//const saltRounds = 16;\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Posts = props => {\n  _s();\n\n  const [file, setFile] = useState([]);\n  let title;\n  let body;\n  let uploadedImg;\n  let isPublic = true; // let postData = null;\n\n  let postcontainer = null;\n  const [Seepost, setSeepost] = useState(undefined);\n\n  const fileSelected1 = e => {\n    const temp = e.target.files[0];\n    console.log(temp);\n    setFile(temp);\n  };\n\n  const [postData, setPostData] = useState(undefined);\n  const [showModal, setShowModal] = useState(false);\n  const [about, setAbout] = useState(undefined);\n  const [aboutedit, setAboutEdit] = useState(undefined);\n  const [editdataid, seteditdataid] = useState(undefined);\n  const [editdata, seteditdata] = useState(undefined);\n  const [finaleditid, setfinaleditid] = useState(\"\");\n  const [likenum, setlikenum] = useState(\"\");\n  let a;\n  const navigate = useNavigate();\n  console.log(localStorage); //localStorage.clear();\n\n  let user = null; //console.log(ReactSession.get(\"userSession\"));\n\n  const [session, setSession] = useState(false);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    async function checkSession() {\n      try {\n        const instance = axios.create({\n          baseURL: \"*\",\n          timeout: 20000,\n          withCredentials: true,\n          headers: {\n            \"Content-Type\": \"application/json;charset=UTF-8\",\n            \"Access-Control-Allow-Origin\": \"*\"\n          },\n          validateStatus: function (status) {\n            return status < 500; // Resolve only if the status code is less than 500\n          }\n        });\n        const {\n          data\n        } = await instance.get(`http://localhost:3000/session`);\n        console.log(data);\n\n        if (\"error\" in data) {\n          setSession(false);\n          setLoading(false); // return;\n        } else {\n          let bytes1 = cryptojs.AES.decrypt(data._id, \"MySecretKey\");\n          console.log(bytes1);\n          let tempid = JSON.parse(bytes1.toString(cryptojs.enc.Utf8));\n          let id = localStorage.getItem(\"userSession\");\n          let bytes = cryptojs.AES.decrypt(id, \"MySecretKey\");\n          console.log(bytes); // let decid = JSON.parse(temp);\n\n          let decid = JSON.parse(bytes.toString(cryptojs.enc.Utf8));\n\n          if (tempid === decid.toString()) {\n            console.log(\"here\");\n            console.log(\"works\");\n            setSession(true);\n            setLoading(false);\n          } else {\n            setSession(false);\n            setLoading(false);\n          } // return;\n\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    async function fetchdata() {\n      const instance = axios.create({\n        baseURL: \"*\",\n        timeout: 20000,\n        withCredentials: true,\n        headers: {\n          \"Content-Type\": \"application/json;charset=UTF-8\",\n          \"Access-Control-Allow-Origin\": \"*\"\n        },\n        validateStatus: function (status) {\n          return status < 500; // Resolve only if the status code is less than 500\n        }\n      });\n      const seepostdata = await instance.get(`http://localhost:3000/posts`);\n      console.log(seepostdata.data);\n      setSeepost(seepostdata.data);\n      setLoading(false);\n    }\n\n    if (localStorage.length !== 0) {\n      console.log(\"here\");\n      checkSession();\n\n      if (session) {\n        fetchdata();\n      } //return;\n\n    } else {\n      console.log(\"here in the outer if\");\n      setLoading(false); //setSession(false);\n    }\n  }, [session]);\n\n  function handleOpenModal(n) {\n    console.log(n); //setShowModal(true);\n  }\n\n  const handleCloseModal = () => {\n    setShowModal(false);\n  }; //useEffect(() => {\n\n  /*\r\n        async function openeditmodal(){\r\n       \r\n            const instance = axios.create({\r\n                baseURL: '*',\r\n                timeout: 20000,\r\n                withCredentials: true,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n                \"Access-Control-Allow-Origin\": \"*\",\r\n                },\r\n            validateStatus: function (status) {\r\n                return status < 500; // Resolve only if the status code is less than 500\r\n                }\r\n            });\r\n            const userdata1  = await instance.get(`http://localhost:3000/session`);\r\n            let postid = finaleditid;\r\n              const clickedpost = await instance.get(`http://localhost:3000/posts/${postid}`);\r\n            console.log(clickedpost.data);\r\n            if(clickedpost.data){\r\n           \r\n            console.log(postid);\r\n            //editdata = clickedpost.data;\r\n            a = clickedpost.data;\r\n            seteditdata(a);\r\n            console.log(a);\r\n            }\r\n            \r\n            console.log(editdata);\r\n            console.log(userdata1.data.id);\r\n            // if(userdata1.data.id === n.userThatPosted._id){\r\n                \r\n            \r\n            // }else{\r\n            //     alert(\"You cannot edit this post.\");\r\n            // }\r\n        }\r\n        openeditmodal();\r\n  */\n  // },[finaleditid]);\n\n  /* postcontainer = Seepost && Seepost.map((n) => {\r\n        let imgstr = \"\";\r\n        if(n.imagePath){\r\n            imgstr =\"http://localhost:3000\"+n.imagePath;\r\n        }\r\n        console.log(n.imagePath+\":\"+n.imagePath == null );\r\n       \r\n       \r\n        async function opendeltemodal(idd){\r\n    \r\n            \r\n            const instance = axios.create({\r\n                baseURL: '*',\r\n                timeout: 20000,\r\n                withCredentials: true,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n                \"Access-Control-Allow-Origin\": \"*\",\r\n                },\r\n            validateStatus: function (status) {\r\n                return status < 500; // Resolve only if the status code is less than 500\r\n                }\r\n            });\r\n            const userdata1  = await instance.get(`http://localhost:3000/session`);\r\n            console.log(n.userThatPosted._id);\r\n            console.log(userdata1.data.id);\r\n            if(userdata1.data.id === n.userThatPosted._id){\r\n                seteditdataid(idd);\r\n            let myDeleteModal = new Modal(document.getElementById('deleteModal'));\r\n            myDeleteModal.show();\r\n            }else{\r\n                alert(\"You cannot delete this post.\");\r\n            }\r\n        }\r\n              async function deletepost(delid){\r\n                delid = editdataid\r\n                console.log(delid)\r\n            const instance = axios.create({\r\n                baseURL: \"*\",\r\n                timeout: 20000,\r\n                \r\n                headers: {\r\n                  \"Content-Type\": \"application/json;charset=UTF-8\",\r\n                  \"Access-Control-Allow-Origin\": \"*\",\r\n                },\r\n                validateStatus: function (status) {\r\n                  return status < 500; // Resolve only if the status code is less than 500\r\n                },\r\n              });\r\n        \r\n             \r\n              let postid = delid;\r\n              console.log(postid);\r\n              console.log(delid);\r\n              const newseepostdata = await instance.delete(\r\n                `http://localhost:3000/posts/${postid}`,{\r\n                    headers:{\r\n                        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n                        \"Access-Control-Allow-Origin\": \"*\",\r\n                    }\r\n            }).then(function (response) {\r\n        console.log(response.data);\r\n          if(response.status === 200){\r\n            let myDeleteModal = new Modal(document.getElementById('deleteModal'));\r\n            myDeleteModal.hide();\r\n            window.location.reload();\r\n        }\r\n      }).catch(function (error) {\r\n        console.log(error);\r\n        //setSuccess(false);\r\n        alert(\"There was some error please try again\");\r\n        });\r\n       \r\n  \r\n                const seepostdata = await instance.get(\r\n                `http://localhost:3000/posts`\r\n              );\r\n              console.log(seepostdata.data);\r\n              setSeepost(seepostdata.data);\r\n              setLoading(false);\r\n          }\r\n         \r\n        async function editclicked(edid){\r\n            let myEditModal = new Modal(document.getElementById('editModal'));\r\n                myEditModal.show();\r\n            setfinaleditid(edid);\r\n        }    \r\n  \r\n        return(\r\n            <div>\r\n                <div className=\"modal fade\" id=\"deleteModal\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabIndex={-1} aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title\">Modal title</h5>\r\n                        <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        <p>Are you sure to delete this post ?</p>\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                        <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                        <button type=\"button\" className=\"btn btn-danger\" onClick={deletepost}>Delete</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n                </div>\r\n                <div className=\"modal fade\" id=\"editModal\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabIndex={-1} aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\">Modal title</h5>\r\n                                <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                            <EditPost n={a}></EditPost>\r\n                            {/* <form onSubmit={\r\n    async (e)=>{\r\n        e.preventDefault();\r\n       let btn = document.getElementById(\"sub1\");\r\n      btn.disabled = false;\r\n    //    if(!title.value){\r\n    //        console.log(title.value);\r\n    //        alert(\"Please enter post title\");\r\n    //        btn.disabled = false;\r\n    //        return;\r\n    //    }\r\n    //    if(title.value.trim().length == 0){\r\n    //     alert(\"Only white spaces are not allowed.\");\r\n    //     btn.disabled = false;\r\n    //        return;\r\n    //    }\r\n      //    let regf = /^[ A-Za-z0-9_@./#&+-]*$/\r\n    //    if(!regf.test(title.value)){\r\n    //         alert(\"Please enter valid post title\");\r\n    //         btn.disabled = false;\r\n    //         return;\r\n    //    }\r\n      //    if(!body.value){\r\n    //        alert(\"Please enter first post description\");\r\n    //        btn.disabled = false;\r\n    //        return;\r\n    //    }\r\n    //    if(body.value.trim().length == 0){\r\n    //     alert(\"Only white spaces are not allowed.\");\r\n    //     btn.disabled = false;\r\n    //        return;\r\n    //    }\r\n      //    if(!regf.test(body.value)){\r\n    //         alert(\"Please enter valid post description\");\r\n    //         btn.disabled = false;\r\n    //         return;\r\n    //    }\r\n      \r\n       // let temp = JSON.parse(user);\r\n       let flag = false;\r\n        //let msg = await axios.post('http:/localhost:3000/signup', user);\r\n          const instance = axios.create({\r\n            baseURL: '*',\r\n            timeout: 20000,\r\n            withCredentials: true,\r\n        headers: {\r\n            'Content-Type': 'application/json;charset=UTF-8',\r\n            \"Access-Control-Allow-Origin\": \"*\",\r\n            },\r\n        validateStatus: function (status) {\r\n            return status < 500; // Resolve only if the status code is less than 500\r\n            }\r\n        });\r\n        \r\n        \r\n          let postid = n._id;\r\n          const clickedpost = await instance.get(`http://localhost:3000/posts/${postid}`);\r\n        \r\n    \r\n               \r\n        n.title = clickedpost.data.title;\r\n        n.body = clickedpost.data.body;\r\n         \r\n        const data1  = await instance.get(`http://localhost:3000/session`);\r\n                console.log(data1.data);\r\n            \r\n        const userdata1  = await instance.get(`http://localhost:3000/getUserData`);\r\n        console.log(userdata1.data);\r\n          \r\n        let user = {\r\n                        id: postid,\r\n                        title : document.getElementById('title').value,\r\n                        body:  document.getElementById('body').value,\r\n                        isPublic: true,\r\n                    }\r\n                    console.log(user);\r\n          await axios.patch(`http://localhost:3000/posts/${postid}`,user,{\r\n            headers: {\r\n                  'Content-Type': 'application/json;charset=UTF-8',\r\n                  \"Access-Control-Allow-Origin\": \"*\",\r\n                }\r\n                }).then(function (response) {\r\n            console.log(response.data);\r\n              if(response.status === 200){\r\n                alert(\"Post posted successfully!!!\");\r\n                flag = true;\r\n                window.location.reload();\r\n            }\r\n          }).catch(function (error) {\r\n            console.log(error);\r\n            //setSuccess(false);\r\n            alert(\"There was some error please try again\");\r\n            });\r\n            e.target.reset();\r\n          //btn.disabled = false;\r\n           if(flag){\r\n            \r\n            props.handleClose(false);\r\n           }            \r\n    }\r\n  }>\r\n                          <div className=\"mb-3\">\r\n                            <label htmlFor=\"title\" className=\"form-label\">Title</label>\r\n                            <input type=\"text\" className=\"form-control\" id=\"title\" aria-describedby=\"emailHelp\" ref={(node)=>{\r\n                            title = node;\r\n                        }} />\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"body\" className=\"col-form-label\">Message:</label>\r\n                            <textarea className=\"form-control\" id=\"body\" defaultValue={n.body} ref={(node)=>{\r\n                            body = node;\r\n                        }} ></textarea>\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <button type=\"button\" className=\"btn btn-secondary me-3\" data-bs-dismiss=\"modal\">Close</button>\r\n                            <button type=\"submit\" className=\"btn btn-primary\" id=\"sub1\">Publish</button>\r\n                        </div>\r\n                        </form> }\r\n                            </div>\r\n                           \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n           \r\n            <div className=\"card post-card align-self-center mb-3\">\r\n            <div className=\"post-row justify-content-between\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <div className=\"left-header-box\">\r\n                        <div className=\"p-2 p-lg-3 pb-0 pb-lg-0 text-center\">\r\n                            <aside className=\"material-icons messanger-dark-color post-icon\">account_circle</aside>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"right-header-box d-flex align-items-center\">\r\n                        <div className=\"p-2 p-lg-3 pb-0 pb-lg-0 ps-lg-0\">\r\n                            <strong>\r\n                                <p className=\"post-heading mobile-text-center\">{n.userThatPosted.firstName}</p>\r\n                            </strong>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between\">\r\n                <div className=\"p-2 p-lg-3 pb-0 pb-lg-0 ps-lg-0\">\r\n                        <button type=\"button\" className=\"btn btn-outline-primary delete-post-btn d-flex\" onClick={async () => await editclicked(n._id)} disabled>\r\n                            <span className=\"material-icons\">\r\n                                edit\r\n                            </span>\r\n                        </button>\r\n                    </div>\r\n                <div className=\"p-2 p-lg-3 pb-0 pb-lg-0 ps-lg-0\">\r\n                        <button type=\"button\" className=\"btn btn-outline-danger delete-post-btn d-flex\" onClick={() => opendeltemodal(n._id)}>\r\n                            <span className=\"material-icons\">\r\n                                delete\r\n                            </span>\r\n                        </button>\r\n                    </div>\r\n                    </div>\r\n            </div>\r\n            <hr className=\"m-0 mb-2\"></hr>\r\n            <div className=\"post-row flex-column\">\r\n                <p className=\"post-heading ps-4 pe-4\"><strong>{n.title}</strong></p>\r\n                <p className=\"post-heading ps-4 pe-4\">{n.body}</p>\r\n                {imgstr.includes(null) ? <img className=\"img-fluid\" src={imgstr} alt=\"post image\" style={{display:\"none\"}} /> : <img className=\"img-fluid\" src={imgstr} alt=\"post image\" type=\"file\" accept=\"image/*\" />}\r\n            </div>\r\n            <hr className=\"m-0 mb-2\"></hr>\r\n            <Like mainid={n._id} numlikes={n.likes.length} numcomments={n.comments.length} commentsdata={Seepost}></Like>   \r\n        </div>  \r\n        </div>\r\n     )\r\n    });*/\n\n\n  postcontainer = Seepost && Seepost.map(n => {\n    console.log(n);\n\n    async function opendeltemodal(idd) {\n      console.log(idd);\n      const instance = axios.create({\n        baseURL: \"*\",\n        timeout: 20000,\n        withCredentials: true,\n        headers: {\n          \"Content-Type\": \"application/json;charset=UTF-8\",\n          \"Access-Control-Allow-Origin\": \"*\"\n        },\n        validateStatus: function (status) {\n          return status < 500; // Resolve only if the status code is less than 500\n        }\n      });\n      const userdata1 = await instance.get(`http://localhost:3000/session`);\n      console.log(n.userThatPosted._id);\n      console.log(userdata1.data.id);\n\n      if (userdata1.data.id === n.userThatPosted._id) {\n        seteditdataid(idd);\n        let myDeleteModal = new Modal(document.getElementById(\"deleteModal\"));\n        myDeleteModal.show();\n      } else {\n        alert(\"You cannot delete this post.\");\n      }\n    }\n\n    async function deletepost(delid) {\n      delid = editdataid;\n      console.log(delid); // const instance = axios.create({\n      //   baseURL: \"*\",\n      //   timeout: 20000,\n      //   headers: {\n      //     \"Content-Type\": \"application/json;charset=UTF-8\",\n      //     \"Access-Control-Allow-Origin\": \"*\",\n      //   },\n      //   validateStatus: function (status) {\n      //     return status < 500; // Resolve only if the status code is less than 500\n      //   },\n      // });\n\n      let postid = delid;\n      console.log(postid);\n      console.log(delid);\n      const instance2 = axios.create({\n        baseURL: \"*\",\n        timeout: 20000,\n        withCredentials: true,\n        headers: {\n          \"Content-Type\": \"multipart/form-data; boundary=${form._boundary}\" //;charset=UTF-8\n\n        },\n        validateStatus: function (status) {\n          return status < 500; // Resolve only if the status code is less than 500\n        }\n      });\n      const newseepostdata = await instance2.delete(`http://localhost:3000/posts/${postid}`).then(function (response) {\n        console.log(response.data);\n\n        if (response.status === 200) {\n          let myDeleteModal = new Modal(document.getElementById(\"deleteModal\"));\n          myDeleteModal.hide();\n          window.location.reload();\n        }\n      }).catch(function (error) {\n        console.log(error);\n        alert(\"There was some error please try again\");\n      });\n    }\n\n    let imgstr = \"\";\n\n    if (n.imagePath) {\n      imgstr = \"http://localhost:3000\" + n.imagePath;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal fade\",\n        id: \"deleteModal\",\n        \"data-bs-backdrop\": \"static\",\n        \"data-bs-keyboard\": \"false\",\n        tabIndex: -1,\n        \"aria-labelledby\": \"staticBackdropLabel\",\n        \"aria-hidden\": \"true\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-dialog modal-dialog-centered modal-dialog-scrollable\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"modal-title\",\n                children: \"Modal title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 602,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn-close\",\n                \"data-bs-dismiss\": \"modal\",\n                \"aria-label\": \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 603,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Are you sure to delete this post ?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 610,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                \"data-bs-dismiss\": \"modal\",\n                children: \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-danger\",\n                onClick: deletepost,\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 621,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 613,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card post-card align-self-center mb-3 scale-in-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post-row justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"left-header-box\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-2 p-lg-3 pb-0 pb-lg-0 text-center\",\n                children: /*#__PURE__*/_jsxDEV(UserImage, {\n                  id: n.userThatPosted._id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"right-header-box d-flex align-items-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-2 p-lg-3 pb-0 pb-lg-0 ps-lg-0\",\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"post-heading mobile-text-center\",\n                    children: n.userThatPosted.firstName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 643,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 642,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-2 p-lg-3 pb-0 pb-lg-0 ps-lg-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-outline-primary delete-post-btn d-flex\",\n                onClick: async e => {\n                  console.log(n);\n                  const instance = axios.create({\n                    baseURL: \"*\",\n                    timeout: 20000,\n                    withCredentials: true,\n                    headers: {\n                      \"Content-Type\": \"application/json;charset=UTF-8\",\n                      \"Access-Control-Allow-Origin\": \"*\"\n                    },\n                    validateStatus: function (status) {\n                      return status < 500; // Resolve only if the status code is less than 500\n                    }\n                  });\n                  const userdata1 = await instance.get(`http://localhost:3000/session`);\n                  console.log(n.userThatPosted._id);\n                  console.log(userdata1.data.id);\n\n                  if (userdata1.data.id === n.userThatPosted._id) {\n                    //seteditdataid(idd);\n                    //let myDeleteModal = new Modal(document.getElementById('deleteModal'));\n                    setPostData(n);\n                    setShowModal(true);\n                  } else {\n                    alert(\"You cannot edit this post.\");\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"material-icons\",\n                  children: \"edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 685,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 19\n              }, this), showModal && showModal && /*#__PURE__*/_jsxDEV(EditPost, {\n                isOpen: showModal,\n                handleClose: handleCloseModal,\n                modal: \"editpost\",\n                n: postData\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 688,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-2 p-lg-3 pb-0 pb-lg-0 ps-lg-0\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-outline-danger delete-post-btn d-flex\",\n                onClick: () => opendeltemodal(n._id),\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"material-icons\",\n                  children: \"delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 702,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"m-0 mb-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"post-row flex-column\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"post-heading ps-4 pe-4\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: n.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"post-heading ps-4 pe-4\",\n            children: n.body\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 712,\n            columnNumber: 15\n          }, this), imgstr.includes(null) ? /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"img-fluid\",\n            src: imgstr,\n            alt: \"post image\",\n            style: {\n              display: \"none\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"img-fluid\",\n            src: imgstr,\n            alt: \"post image\",\n            type: \"file\",\n            accept: \"image/*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 721,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"m-0 mb-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Like, {\n          mainid: n._id,\n          numlikes: n.likes.length,\n          numcomments: n.comments.length,\n          commentsdata: Seepost,\n          numlikesdata: n.likes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 11\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 589,\n      columnNumber: 9\n    }, this);\n  });\n\n  if (localStorage.getItem(\"user\") && localStorage.getItem(\"user\") !== \"undefined\") {\n    //console.log(localStorage.getItem(\"user\"));\n    let bytes = cryptojs.AES.decrypt(localStorage.getItem(\"user\"), \"MySecretKey\");\n    user = JSON.parse(bytes.toString(cryptojs.enc.Utf8));\n  }\n\n  function openModal() {\n    let myModal = new Modal(document.getElementById(\"myModal\"));\n    myModal.show();\n  }\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Loading....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 763,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 762,\n      columnNumber: 7\n    }, this);\n  } else {\n    if (!session) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 768,\n        columnNumber: 14\n      }, this);\n    } else {\n      return (\n        /*#__PURE__*/\n        // ---------- Start of Posts ---------- //\n        _jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"section posts-section\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-sm-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"write-post-section mb-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"card post-card align-self-center text-center scale-in-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"row\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"col-lg-2\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"p-3 pe-lg-0\",\n                            children: /*#__PURE__*/_jsxDEV(\"aside\", {\n                              className: \"material-icons messanger-dark-color post-icon\",\n                              children: \"account_circle\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 783,\n                              columnNumber: 29\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 782,\n                            columnNumber: 27\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 781,\n                          columnNumber: 25\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"col-lg-10\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"p-3 ps-lg-0\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"input-group input-group-lg\",\n                              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                                type: \"text\",\n                                className: \"form-control rounded-pill facebook-light-gray-color\",\n                                id: \"write-post-textbox\",\n                                \"aria-label\": \"Sizing example input\",\n                                \"aria-describedby\": \"inputGroup-sizing-lg\",\n                                placeholder: \"What's on your mind ...\",\n                                onFocus: openModal\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 791,\n                                columnNumber: 31\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 790,\n                              columnNumber: 29\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 789,\n                            columnNumber: 27\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 788,\n                          columnNumber: 25\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 780,\n                        columnNumber: 23\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 779,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 778,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"read-post-section\",\n                    children: postcontainer\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 806,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 777,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 776,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 775,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 774,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal fade\",\n            id: \"myModal\",\n            \"data-bs-backdrop\": \"static\",\n            \"data-bs-keyboard\": \"false\",\n            tabIndex: -1,\n            \"aria-labelledby\": \"staticBackdropLabel\",\n            \"aria-hidden\": \"true\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-dialog modal-dialog-centered modal-dialog-scrollable\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"modal-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"modal-title\",\n                    id: \"exampleModalLabel\",\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Create Post\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 824,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 823,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn-close\",\n                    \"data-bs-dismiss\": \"modal\",\n                    \"aria-label\": \"Close\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 826,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 822,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal-body\",\n                  children: /*#__PURE__*/_jsxDEV(\"form\", {\n                    onSubmit: async e => {\n                      e.preventDefault();\n                      let btn = document.getElementById(\"sub\");\n                      btn.disabled = false;\n\n                      if (!title.value || title.value == null) {\n                        alert(\"Please enter post title\");\n                        btn.disabled = false;\n                        return;\n                      }\n\n                      if (title.value.trim().length == 0) {\n                        alert(\"Empty post title is not allowed.\");\n                        btn.disabled = false;\n                        return;\n                      } //    let regf = /^[ A-Za-z0-9_@./#&+-]*$/\n                      //    if(!regf.test(title.value)){\n                      //         alert(\"Please enter valid post title\");\n                      //         btn.disabled = false;\n                      //         return;\n                      //    }\n\n\n                      if (!body.value || body.value == null) {\n                        alert(\"Please enter post message\");\n                        btn.disabled = false;\n                        return;\n                      }\n\n                      if (body.value.trim().length == 0) {\n                        alert(\"White spaces are not allowed.\");\n                        btn.disabled = false;\n                        return;\n                      } //    if(!regf.test(body.value)){\n                      //         alert(\"Please enter valid post description\");\n                      //         btn.disabled = false;\n                      //         return;\n                      //    }\n                      // let temp = JSON.parse(user);\n\n\n                      let flag = false; //let msg = await axios.post('http:/localhost:3000/signup', user);\n\n                      const instance = axios.create({\n                        baseURL: \"*\",\n                        timeout: 20000,\n                        withCredentials: true,\n                        headers: {\n                          \"Content-Type\": \"application/json;charset=UTF-8\",\n                          \"Access-Control-Allow-Origin\": \"*\"\n                        },\n                        validateStatus: function (status) {\n                          return status < 500; // Resolve only if the status code is less than 500\n                        }\n                      });\n                      const data1 = await instance.get(`http://localhost:3000/session`);\n                      console.log(data1.data);\n                      const userdata1 = await instance.get(`http://localhost:3000/getUserData`);\n                      console.log(userdata1.data);\n                      let user = {\n                        title: title.value,\n                        body: body.value,\n                        userThatPosted: \"Akshay\",\n                        isPublic: true,\n                        uploadedImg: \"\"\n                      };\n                      let sampleonj = {\n                        firstName: userdata1.data.firstName,\n                        _id: data1.data.id\n                      };\n                      let formData = new FormData();\n                      formData.append(\"title\", title.value);\n                      formData.append(\"body\", body.value);\n                      formData.append(\"userThatPosted\", JSON.stringify(sampleonj));\n                      formData.append(\"isPublic\", true);\n                      formData.append(\"image\", file);\n                      console.log(formData.get(\"userThatPosted\"));\n                      setAbout([user]);\n                      console.log(user);\n                      const instance2 = axios.create({\n                        baseURL: \"*\",\n                        timeout: 20000,\n                        withCredentials: true,\n                        headers: {\n                          \"Content-Type\": \"multipart/form-data; boundary=${form._boundary}\" //;charset=UTF-8\n\n                        },\n                        validateStatus: function (status) {\n                          return status < 500; // Resolve only if the status code is less than 500\n                        }\n                      });\n                      await instance2.post(`http://localhost:3000/posts`, formData).then(function (response) {\n                        console.log(response);\n\n                        if (response.status === 200) {\n                          alert(\"Post posted successfully!!!\");\n                          flag = true;\n                          window.location.reload();\n                        }\n                      }).catch(function (error) {\n                        console.log(error); //setSuccess(false);\n\n                        alert(\"There was some error please try again\");\n                      });\n                      e.target.reset(); //btn.disabled = false;\n\n                      if (flag) {\n                        props.handleClose(false);\n                      }\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        for: \"title\",\n                        className: \"form-label\",\n                        children: \"Title\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 969,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        className: \"form-control\",\n                        id: \"title\",\n                        \"aria-describedby\": \"emailHelp\",\n                        ref: node => {\n                          title = node;\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 972,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 968,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"body\",\n                        className: \"col-form-label\",\n                        children: \"Message:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 983,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                        className: \"form-control\",\n                        id: \"body\",\n                        ref: node => {\n                          body = node;\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 986,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 982,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"input-group mb-3\",\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          onChange: fileSelected1,\n                          name: \"file\",\n                          type: \"file\",\n                          accept: \"image/*\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 998,\n                          columnNumber: 25\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 997,\n                        columnNumber: 23\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 994,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-secondary me-3\",\n                        \"data-bs-dismiss\": \"modal\",\n                        children: \"Close\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1007,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"submit\",\n                        className: \"btn btn-primary\",\n                        id: \"sub\",\n                        children: \"Publish\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1014,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1006,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 836,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 833,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 821,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 820,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 811,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true)\n      );\n    }\n  }\n};\n\n_s(Posts, \"6CHzedKlwQIEfHTTrnGKAfRr1Hg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Posts;\nexport default Posts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"names":["React","useState","useEffect","Navigation","logoImg","$","event","Modal","useNavigate","Navigate","Redirect","axios","cryptojs","Session","ReactSession","Form","FloatingLabel","Button","Row","Col","EditPost","Like","FormData","UserImage","Posts","props","file","setFile","title","body","uploadedImg","isPublic","postcontainer","Seepost","setSeepost","undefined","fileSelected1","e","temp","target","files","console","log","postData","setPostData","showModal","setShowModal","about","setAbout","aboutedit","setAboutEdit","editdataid","seteditdataid","editdata","seteditdata","finaleditid","setfinaleditid","likenum","setlikenum","a","navigate","localStorage","user","session","setSession","loading","setLoading","checkSession","instance","create","baseURL","timeout","withCredentials","headers","validateStatus","status","data","get","bytes1","AES","decrypt","_id","tempid","JSON","parse","toString","enc","Utf8","id","getItem","bytes","decid","fetchdata","seepostdata","length","handleOpenModal","n","handleCloseModal","map","opendeltemodal","idd","userdata1","userThatPosted","myDeleteModal","document","getElementById","show","alert","deletepost","delid","postid","instance2","newseepostdata","delete","then","response","hide","window","location","reload","catch","error","imgstr","imagePath","firstName","includes","display","likes","comments","openModal","myModal","preventDefault","btn","disabled","value","trim","flag","data1","sampleonj","formData","append","stringify","post","reset","handleClose","node"],"sources":["D:/554/code-warriors/client/src/components/Posts.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Navigation from \"./Navigation\";\r\nimport \"../App.css\";\r\nimport logoImg from \"../images/logo.gif\";\r\nimport $, { event } from \"jquery\";\r\nimport { Modal } from \"bootstrap\";\r\nimport { useNavigate, Navigate } from \"react-router-dom\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport cryptojs from \"crypto-js\";\r\nimport Session from \"react-session-api\";\r\nimport { ReactSession } from \"react-client-session\";\r\nimport { Form, FloatingLabel, Button, Row, Col } from \"react-bootstrap\";\r\nimport EditPost from \"./EditPost\";\r\nimport Like from \"./Like\";\r\n\r\nimport FormData from \"form-data\";\r\nimport UserImage from \"./UserImage\";\r\n//const bcrypt = require('bcryptjs');\r\n//const saltRounds = 16;\r\n\r\nconst Posts = (props) => {\r\n  const [file, setFile] = useState([]);\r\n\r\n  let title;\r\n  let body;\r\n  let uploadedImg;\r\n  let isPublic = true;\r\n  // let postData = null;\r\n  let postcontainer = null;\r\n\r\n  const [Seepost, setSeepost] = useState(undefined);\r\n\r\n  const fileSelected1 = (e) => {\r\n    const temp = e.target.files[0];\r\n    console.log(temp);\r\n\r\n    setFile(temp);\r\n  };\r\n  const [postData, setPostData] = useState(undefined);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [about, setAbout] = useState(undefined);\r\n  const [aboutedit, setAboutEdit] = useState(undefined);\r\n  const [editdataid, seteditdataid] = useState(undefined);\r\n  const [editdata, seteditdata] = useState(undefined);\r\n  const [finaleditid, setfinaleditid] = useState(\"\");\r\n\r\n  const [likenum, setlikenum] = useState(\"\");\r\n  let a;\r\n\r\n  const navigate = useNavigate();\r\n  console.log(localStorage);\r\n  //localStorage.clear();\r\n  let user = null;\r\n\r\n  //console.log(ReactSession.get(\"userSession\"));\r\n  const [session, setSession] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function checkSession() {\r\n      try {\r\n        const instance = axios.create({\r\n          baseURL: \"*\",\r\n          timeout: 20000,\r\n          withCredentials: true,\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            \"Access-Control-Allow-Origin\": \"*\",\r\n          },\r\n          validateStatus: function (status) {\r\n            return status < 500; // Resolve only if the status code is less than 500\r\n          },\r\n        });\r\n\r\n        const { data } = await instance.get(`http://localhost:3000/session`);\r\n        console.log(data);\r\n        if (\"error\" in data) {\r\n          setSession(false);\r\n          setLoading(false);\r\n          // return;\r\n        } else {\r\n          let bytes1 = cryptojs.AES.decrypt(data._id, \"MySecretKey\");\r\n          console.log(bytes1);\r\n          let tempid = JSON.parse(bytes1.toString(cryptojs.enc.Utf8));\r\n\r\n          let id = localStorage.getItem(\"userSession\");\r\n          let bytes = cryptojs.AES.decrypt(id, \"MySecretKey\");\r\n          console.log(bytes);\r\n          // let decid = JSON.parse(temp);\r\n          let decid = JSON.parse(bytes.toString(cryptojs.enc.Utf8));\r\n\r\n          if (tempid === decid.toString()) {\r\n            console.log(\"here\");\r\n            console.log(\"works\");\r\n            setSession(true);\r\n            setLoading(false);\r\n          } else {\r\n            setSession(false);\r\n            setLoading(false);\r\n          }\r\n          // return;\r\n        }\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n\r\n    async function fetchdata() {\r\n      const instance = axios.create({\r\n        baseURL: \"*\",\r\n        timeout: 20000,\r\n        withCredentials: true,\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          \"Access-Control-Allow-Origin\": \"*\",\r\n        },\r\n        validateStatus: function (status) {\r\n          return status < 500; // Resolve only if the status code is less than 500\r\n        },\r\n      });\r\n\r\n      const seepostdata = await instance.get(`http://localhost:3000/posts`);\r\n      console.log(seepostdata.data);\r\n      setSeepost(seepostdata.data);\r\n      setLoading(false);\r\n    }\r\n    if (localStorage.length !== 0) {\r\n      console.log(\"here\");\r\n      checkSession();\r\n      if (session) {\r\n        fetchdata();\r\n      }\r\n      //return;\r\n    } else {\r\n      console.log(\"here in the outer if\");\r\n      setLoading(false);\r\n      //setSession(false);\r\n    }\r\n  }, [session]);\r\n\r\n  function handleOpenModal(n) {\r\n    console.log(n);\r\n    //setShowModal(true);\r\n  }\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  //useEffect(() => {\r\n  /*\r\n        async function openeditmodal(){\r\n       \r\n            const instance = axios.create({\r\n                baseURL: '*',\r\n                timeout: 20000,\r\n                withCredentials: true,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n                \"Access-Control-Allow-Origin\": \"*\",\r\n                },\r\n            validateStatus: function (status) {\r\n                return status < 500; // Resolve only if the status code is less than 500\r\n                }\r\n            });\r\n            const userdata1  = await instance.get(`http://localhost:3000/session`);\r\n            let postid = finaleditid;\r\n\r\n            const clickedpost = await instance.get(`http://localhost:3000/posts/${postid}`);\r\n            console.log(clickedpost.data);\r\n            if(clickedpost.data){\r\n           \r\n            console.log(postid);\r\n            //editdata = clickedpost.data;\r\n            a = clickedpost.data;\r\n            seteditdata(a);\r\n            console.log(a);\r\n            }\r\n            \r\n            console.log(editdata);\r\n            console.log(userdata1.data.id);\r\n            // if(userdata1.data.id === n.userThatPosted._id){\r\n                \r\n            \r\n            // }else{\r\n            //     alert(\"You cannot edit this post.\");\r\n            // }\r\n        }\r\n        openeditmodal();\r\n*/\r\n  // },[finaleditid]);\r\n\r\n  /* postcontainer = Seepost && Seepost.map((n) => {\r\n        let imgstr = \"\";\r\n        if(n.imagePath){\r\n            imgstr =\"http://localhost:3000\"+n.imagePath;\r\n        }\r\n        console.log(n.imagePath+\":\"+n.imagePath == null );\r\n       \r\n       \r\n        async function opendeltemodal(idd){\r\n    \r\n            \r\n            const instance = axios.create({\r\n                baseURL: '*',\r\n                timeout: 20000,\r\n                withCredentials: true,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n                \"Access-Control-Allow-Origin\": \"*\",\r\n                },\r\n            validateStatus: function (status) {\r\n                return status < 500; // Resolve only if the status code is less than 500\r\n                }\r\n            });\r\n            const userdata1  = await instance.get(`http://localhost:3000/session`);\r\n            console.log(n.userThatPosted._id);\r\n            console.log(userdata1.data.id);\r\n            if(userdata1.data.id === n.userThatPosted._id){\r\n                seteditdataid(idd);\r\n            let myDeleteModal = new Modal(document.getElementById('deleteModal'));\r\n            myDeleteModal.show();\r\n            }else{\r\n                alert(\"You cannot delete this post.\");\r\n            }\r\n        }\r\n\r\n            async function deletepost(delid){\r\n                delid = editdataid\r\n                console.log(delid)\r\n            const instance = axios.create({\r\n                baseURL: \"*\",\r\n                timeout: 20000,\r\n                \r\n                headers: {\r\n                  \"Content-Type\": \"application/json;charset=UTF-8\",\r\n                  \"Access-Control-Allow-Origin\": \"*\",\r\n                },\r\n                validateStatus: function (status) {\r\n                  return status < 500; // Resolve only if the status code is less than 500\r\n                },\r\n              });\r\n        \r\n             \r\n              let postid = delid;\r\n              console.log(postid);\r\n              console.log(delid);\r\n              const newseepostdata = await instance.delete(\r\n                `http://localhost:3000/posts/${postid}`,{\r\n                    headers:{\r\n                        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n                        \"Access-Control-Allow-Origin\": \"*\",\r\n                    }\r\n            }).then(function (response) {\r\n        console.log(response.data);\r\n\r\n        if(response.status === 200){\r\n            let myDeleteModal = new Modal(document.getElementById('deleteModal'));\r\n            myDeleteModal.hide();\r\n            window.location.reload();\r\n        }\r\n      }).catch(function (error) {\r\n        console.log(error);\r\n        //setSuccess(false);\r\n        alert(\"There was some error please try again\");\r\n\r\n      });\r\n       \r\n\r\n\r\n\r\n              const seepostdata = await instance.get(\r\n                `http://localhost:3000/posts`\r\n              );\r\n              console.log(seepostdata.data);\r\n              setSeepost(seepostdata.data);\r\n              setLoading(false);\r\n\r\n        }\r\n\r\n       \r\n        async function editclicked(edid){\r\n            let myEditModal = new Modal(document.getElementById('editModal'));\r\n                myEditModal.show();\r\n            setfinaleditid(edid);\r\n        }    \r\n\r\n\r\n        return(\r\n            <div>\r\n                <div className=\"modal fade\" id=\"deleteModal\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabIndex={-1} aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title\">Modal title</h5>\r\n                        <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        <p>Are you sure to delete this post ?</p>\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                        <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                        <button type=\"button\" className=\"btn btn-danger\" onClick={deletepost}>Delete</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n                </div>\r\n                <div className=\"modal fade\" id=\"editModal\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabIndex={-1} aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\">Modal title</h5>\r\n                                <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                            <EditPost n={a}></EditPost>\r\n                            {/* <form onSubmit={\r\n    async (e)=>{\r\n        e.preventDefault();\r\n       let btn = document.getElementById(\"sub1\");\r\n      btn.disabled = false;\r\n    //    if(!title.value){\r\n    //        console.log(title.value);\r\n    //        alert(\"Please enter post title\");\r\n    //        btn.disabled = false;\r\n    //        return;\r\n    //    }\r\n    //    if(title.value.trim().length == 0){\r\n    //     alert(\"Only white spaces are not allowed.\");\r\n    //     btn.disabled = false;\r\n    //        return;\r\n    //    }\r\n\r\n    //    let regf = /^[ A-Za-z0-9_@./#&+-]*$/\r\n    //    if(!regf.test(title.value)){\r\n    //         alert(\"Please enter valid post title\");\r\n    //         btn.disabled = false;\r\n    //         return;\r\n    //    }\r\n\r\n    //    if(!body.value){\r\n    //        alert(\"Please enter first post description\");\r\n    //        btn.disabled = false;\r\n    //        return;\r\n    //    }\r\n    //    if(body.value.trim().length == 0){\r\n    //     alert(\"Only white spaces are not allowed.\");\r\n    //     btn.disabled = false;\r\n    //        return;\r\n    //    }\r\n\r\n    //    if(!regf.test(body.value)){\r\n    //         alert(\"Please enter valid post description\");\r\n    //         btn.disabled = false;\r\n    //         return;\r\n    //    }\r\n      \r\n       // let temp = JSON.parse(user);\r\n       let flag = false;\r\n        //let msg = await axios.post('http:/localhost:3000/signup', user);\r\n\r\n        const instance = axios.create({\r\n            baseURL: '*',\r\n            timeout: 20000,\r\n            withCredentials: true,\r\n        headers: {\r\n            'Content-Type': 'application/json;charset=UTF-8',\r\n            \"Access-Control-Allow-Origin\": \"*\",\r\n            },\r\n        validateStatus: function (status) {\r\n            return status < 500; // Resolve only if the status code is less than 500\r\n            }\r\n        });\r\n        \r\n        \r\n\r\n        let postid = n._id;\r\n\r\n        const clickedpost = await instance.get(`http://localhost:3000/posts/${postid}`);\r\n        \r\n    \r\n               \r\n        n.title = clickedpost.data.title;\r\n        n.body = clickedpost.data.body;\r\n\r\n       \r\n        const data1  = await instance.get(`http://localhost:3000/session`);\r\n                console.log(data1.data);\r\n            \r\n        const userdata1  = await instance.get(`http://localhost:3000/getUserData`);\r\n        console.log(userdata1.data);\r\n\r\n        \r\n        let user = {\r\n                        id: postid,\r\n                        title : document.getElementById('title').value,\r\n                        body:  document.getElementById('body').value,\r\n                        isPublic: true,\r\n                    }\r\n                    console.log(user);\r\n\r\n        await axios.patch(`http://localhost:3000/posts/${postid}`,user,{\r\n            headers: {\r\n                  'Content-Type': 'application/json;charset=UTF-8',\r\n                  \"Access-Control-Allow-Origin\": \"*\",\r\n                }\r\n                }).then(function (response) {\r\n            console.log(response.data);\r\n\r\n            if(response.status === 200){\r\n                alert(\"Post posted successfully!!!\");\r\n                flag = true;\r\n                window.location.reload();\r\n            }\r\n          }).catch(function (error) {\r\n            console.log(error);\r\n            //setSuccess(false);\r\n            alert(\"There was some error please try again\");\r\n\r\n          });\r\n\r\n          e.target.reset();\r\n          //btn.disabled = false;\r\n           if(flag){\r\n            \r\n            props.handleClose(false);\r\n           }            \r\n    }\r\n}>\r\n\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"title\" className=\"form-label\">Title</label>\r\n                            <input type=\"text\" className=\"form-control\" id=\"title\" aria-describedby=\"emailHelp\" ref={(node)=>{\r\n                            title = node;\r\n                        }} />\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"body\" className=\"col-form-label\">Message:</label>\r\n                            <textarea className=\"form-control\" id=\"body\" defaultValue={n.body} ref={(node)=>{\r\n                            body = node;\r\n                        }} ></textarea>\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <button type=\"button\" className=\"btn btn-secondary me-3\" data-bs-dismiss=\"modal\">Close</button>\r\n                            <button type=\"submit\" className=\"btn btn-primary\" id=\"sub1\">Publish</button>\r\n                        </div>\r\n                        </form> }\r\n                            </div>\r\n                           \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n           \r\n            <div className=\"card post-card align-self-center mb-3\">\r\n            <div className=\"post-row justify-content-between\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <div className=\"left-header-box\">\r\n                        <div className=\"p-2 p-lg-3 pb-0 pb-lg-0 text-center\">\r\n                            <aside className=\"material-icons messanger-dark-color post-icon\">account_circle</aside>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"right-header-box d-flex align-items-center\">\r\n                        <div className=\"p-2 p-lg-3 pb-0 pb-lg-0 ps-lg-0\">\r\n                            <strong>\r\n                                <p className=\"post-heading mobile-text-center\">{n.userThatPosted.firstName}</p>\r\n                            </strong>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between\">\r\n                <div className=\"p-2 p-lg-3 pb-0 pb-lg-0 ps-lg-0\">\r\n                        <button type=\"button\" className=\"btn btn-outline-primary delete-post-btn d-flex\" onClick={async () => await editclicked(n._id)} disabled>\r\n                            <span className=\"material-icons\">\r\n                                edit\r\n                            </span>\r\n                        </button>\r\n                    </div>\r\n                <div className=\"p-2 p-lg-3 pb-0 pb-lg-0 ps-lg-0\">\r\n                        <button type=\"button\" className=\"btn btn-outline-danger delete-post-btn d-flex\" onClick={() => opendeltemodal(n._id)}>\r\n                            <span className=\"material-icons\">\r\n                                delete\r\n                            </span>\r\n                        </button>\r\n                    </div>\r\n                    </div>\r\n            </div>\r\n            <hr className=\"m-0 mb-2\"></hr>\r\n            <div className=\"post-row flex-column\">\r\n                <p className=\"post-heading ps-4 pe-4\"><strong>{n.title}</strong></p>\r\n                <p className=\"post-heading ps-4 pe-4\">{n.body}</p>\r\n                {imgstr.includes(null) ? <img className=\"img-fluid\" src={imgstr} alt=\"post image\" style={{display:\"none\"}} /> : <img className=\"img-fluid\" src={imgstr} alt=\"post image\" type=\"file\" accept=\"image/*\" />}\r\n            </div>\r\n            <hr className=\"m-0 mb-2\"></hr>\r\n            <Like mainid={n._id} numlikes={n.likes.length} numcomments={n.comments.length} commentsdata={Seepost}></Like>   \r\n        </div>  \r\n        </div>\r\n     )\r\n    });*/\r\n\r\n  postcontainer =\r\n    Seepost &&\r\n    Seepost.map((n) => {\r\n      console.log(n);\r\n\r\n      async function opendeltemodal(idd) {\r\n        console.log(idd);\r\n        const instance = axios.create({\r\n          baseURL: \"*\",\r\n          timeout: 20000,\r\n          withCredentials: true,\r\n          headers: {\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            \"Access-Control-Allow-Origin\": \"*\",\r\n          },\r\n          validateStatus: function (status) {\r\n            return status < 500; // Resolve only if the status code is less than 500\r\n          },\r\n        });\r\n        const userdata1 = await instance.get(`http://localhost:3000/session`);\r\n\r\n        console.log(n.userThatPosted._id);\r\n        console.log(userdata1.data.id);\r\n        if (userdata1.data.id === n.userThatPosted._id) {\r\n          seteditdataid(idd);\r\n          let myDeleteModal = new Modal(document.getElementById(\"deleteModal\"));\r\n          myDeleteModal.show();\r\n        } else {\r\n          alert(\"You cannot delete this post.\");\r\n        }\r\n      }\r\n\r\n      async function deletepost(delid) {\r\n        delid = editdataid;\r\n        console.log(delid);\r\n        // const instance = axios.create({\r\n        //   baseURL: \"*\",\r\n        //   timeout: 20000,\r\n\r\n        //   headers: {\r\n        //     \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        //     \"Access-Control-Allow-Origin\": \"*\",\r\n        //   },\r\n        //   validateStatus: function (status) {\r\n        //     return status < 500; // Resolve only if the status code is less than 500\r\n        //   },\r\n        // });\r\n\r\n        let postid = delid;\r\n        console.log(postid);\r\n        console.log(delid);\r\n        const instance2 = axios.create({\r\n          baseURL: \"*\",\r\n          timeout: 20000,\r\n          withCredentials: true,\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data; boundary=${form._boundary}\",\r\n            //;charset=UTF-8\r\n          },\r\n          validateStatus: function (status) {\r\n            return status < 500; // Resolve only if the status code is less than 500\r\n          },\r\n        });\r\n        const newseepostdata = await instance2\r\n          .delete(`http://localhost:3000/posts/${postid}`)\r\n          .then(function (response) {\r\n            console.log(response.data);\r\n\r\n            if (response.status === 200) {\r\n              let myDeleteModal = new Modal(\r\n                document.getElementById(\"deleteModal\")\r\n              );\r\n              myDeleteModal.hide();\r\n              window.location.reload();\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n\r\n            alert(\"There was some error please try again\");\r\n          });\r\n      }\r\n\r\n      let imgstr = \"\";\r\n      if (n.imagePath) {\r\n        imgstr = \"http://localhost:3000\" + n.imagePath;\r\n      }\r\n      return (\r\n        <div>\r\n          <div\r\n            className=\"modal fade\"\r\n            id=\"deleteModal\"\r\n            data-bs-backdrop=\"static\"\r\n            data-bs-keyboard=\"false\"\r\n            tabIndex={-1}\r\n            aria-labelledby=\"staticBackdropLabel\"\r\n            aria-hidden=\"true\"\r\n          >\r\n            <div className=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n              <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                  <p className=\"modal-title\">Modal title</p>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn-close\"\r\n                    data-bs-dismiss=\"modal\"\r\n                    aria-label=\"Close\"\r\n                  ></button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                  <p>Are you sure to delete this post ?</p>\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-secondary\"\r\n                    data-bs-dismiss=\"modal\"\r\n                  >\r\n                    Close\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-danger\"\r\n                    onClick={deletepost}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"card post-card align-self-center mb-3 scale-in-center\">\r\n            <div className=\"post-row justify-content-between\">\r\n              <div className=\"d-flex justify-content-between\">\r\n                <div className=\"left-header-box\">\r\n                  <div className=\"p-2 p-lg-3 pb-0 pb-lg-0 text-center\">\r\n                    <UserImage id={n.userThatPosted._id} />\r\n                  </div>\r\n                </div>\r\n                <div className=\"right-header-box d-flex align-items-center\">\r\n                  <div className=\"p-2 p-lg-3 pb-0 pb-lg-0 ps-lg-0\">\r\n                    <strong>\r\n                      <p className=\"post-heading mobile-text-center\">\r\n                        {n.userThatPosted.firstName}\r\n                      </p>\r\n                    </strong>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"d-flex justify-content-between\">\r\n                <div className=\"p-2 p-lg-3 pb-0 pb-lg-0 ps-lg-0\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-primary delete-post-btn d-flex\"\r\n                    onClick={async (e) => {\r\n                      console.log(n);\r\n\r\n                      const instance = axios.create({\r\n                        baseURL: \"*\",\r\n                        timeout: 20000,\r\n                        withCredentials: true,\r\n                        headers: {\r\n                          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n                          \"Access-Control-Allow-Origin\": \"*\",\r\n                        },\r\n                        validateStatus: function (status) {\r\n                          return status < 500; // Resolve only if the status code is less than 500\r\n                        },\r\n                      });\r\n                      const userdata1 = await instance.get(\r\n                        `http://localhost:3000/session`\r\n                      );\r\n                      console.log(n.userThatPosted._id);\r\n                      console.log(userdata1.data.id);\r\n                      if (userdata1.data.id === n.userThatPosted._id) {\r\n                        //seteditdataid(idd);\r\n                        //let myDeleteModal = new Modal(document.getElementById('deleteModal'));\r\n                        setPostData(n);\r\n                        setShowModal(true);\r\n                      } else {\r\n                        alert(\"You cannot edit this post.\");\r\n                      }\r\n                    }}\r\n                  >\r\n                    <span className=\"material-icons\">edit</span>\r\n                  </button>\r\n                  {showModal && showModal && (\r\n                    <EditPost\r\n                      isOpen={showModal}\r\n                      handleClose={handleCloseModal}\r\n                      modal=\"editpost\"\r\n                      n={postData}\r\n                    />\r\n                  )}\r\n                </div>\r\n                <div className=\"p-2 p-lg-3 pb-0 pb-lg-0 ps-lg-0\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-danger delete-post-btn d-flex\"\r\n                    onClick={() => opendeltemodal(n._id)}\r\n                  >\r\n                    <span className=\"material-icons\">delete</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <hr className=\"m-0 mb-2\"></hr>\r\n            <div className=\"post-row flex-column\">\r\n              <p className=\"post-heading ps-4 pe-4\">\r\n                <strong>{n.title}</strong>\r\n              </p>\r\n              <p className=\"post-heading ps-4 pe-4\">{n.body}</p>\r\n              {imgstr.includes(null) ? (\r\n                <img\r\n                  className=\"img-fluid\"\r\n                  src={imgstr}\r\n                  alt=\"post image\"\r\n                  style={{ display: \"none\" }}\r\n                />\r\n              ) : (\r\n                <img\r\n                  className=\"img-fluid\"\r\n                  src={imgstr}\r\n                  alt=\"post image\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                />\r\n              )}\r\n            </div>\r\n            <hr className=\"m-0 mb-2\"></hr>\r\n            <Like\r\n              mainid={n._id}\r\n              numlikes={n.likes.length}\r\n              numcomments={n.comments.length}\r\n              commentsdata={Seepost}\r\n              numlikesdata={n.likes}\r\n            ></Like>\r\n          </div>{\" \"}\r\n        </div>\r\n      );\r\n    });\r\n\r\n  if (\r\n    localStorage.getItem(\"user\") &&\r\n    localStorage.getItem(\"user\") !== \"undefined\"\r\n  ) {\r\n    //console.log(localStorage.getItem(\"user\"));\r\n    let bytes = cryptojs.AES.decrypt(\r\n      localStorage.getItem(\"user\"),\r\n      \"MySecretKey\"\r\n    );\r\n    user = JSON.parse(bytes.toString(cryptojs.enc.Utf8));\r\n  }\r\n\r\n  function openModal() {\r\n    let myModal = new Modal(document.getElementById(\"myModal\"));\r\n    myModal.show();\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div>\r\n        <span>Loading....</span>\r\n      </div>\r\n    );\r\n  } else {\r\n    if (!session) {\r\n      return <Navigate to=\"/\" replace />;\r\n    } else {\r\n      return (\r\n        // ---------- Start of Posts ---------- //\r\n        <>\r\n          <Navigation></Navigation>\r\n          <section className=\"section posts-section\">\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"col-sm-12\">\r\n                  <div className=\"write-post-section mb-3\">\r\n                    <div className=\"card post-card align-self-center text-center scale-in-center\">\r\n                      <div className=\"row\">\r\n                        <div className=\"col-lg-2\">\r\n                          <div className=\"p-3 pe-lg-0\">\r\n                            <aside className=\"material-icons messanger-dark-color post-icon\">\r\n                              account_circle\r\n                            </aside>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-lg-10\">\r\n                          <div className=\"p-3 ps-lg-0\">\r\n                            <div className=\"input-group input-group-lg\">\r\n                              <input\r\n                                type=\"text\"\r\n                                className=\"form-control rounded-pill facebook-light-gray-color\"\r\n                                id=\"write-post-textbox\"\r\n                                aria-label=\"Sizing example input\"\r\n                                aria-describedby=\"inputGroup-sizing-lg\"\r\n                                placeholder=\"What's on your mind ...\"\r\n                                onFocus={openModal}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"read-post-section\">{postcontainer}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n          <div\r\n            className=\"modal fade\"\r\n            id=\"myModal\"\r\n            data-bs-backdrop=\"static\"\r\n            data-bs-keyboard=\"false\"\r\n            tabIndex={-1}\r\n            aria-labelledby=\"staticBackdropLabel\"\r\n            aria-hidden=\"true\"\r\n          >\r\n            <div className=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\r\n              <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                  <p className=\"modal-title\" id=\"exampleModalLabel\">\r\n                    <strong>Create Post</strong>\r\n                  </p>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn-close\"\r\n                    data-bs-dismiss=\"modal\"\r\n                    aria-label=\"Close\"\r\n                  ></button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                  {/*  */}\r\n\r\n                  <form\r\n                    onSubmit={async (e) => {\r\n                      e.preventDefault();\r\n\r\n                      let btn = document.getElementById(\"sub\");\r\n                      btn.disabled = false;\r\n                      if (!title.value || title.value == null) {\r\n                        alert(\"Please enter post title\");\r\n                        btn.disabled = false;\r\n                        return;\r\n                      }\r\n                      if (title.value.trim().length == 0) {\r\n                        alert(\"Empty post title is not allowed.\");\r\n                        btn.disabled = false;\r\n                        return;\r\n                      }\r\n\r\n                      //    let regf = /^[ A-Za-z0-9_@./#&+-]*$/\r\n                      //    if(!regf.test(title.value)){\r\n                      //         alert(\"Please enter valid post title\");\r\n                      //         btn.disabled = false;\r\n                      //         return;\r\n                      //    }\r\n\r\n                      if (!body.value || body.value == null) {\r\n                        alert(\"Please enter post message\");\r\n                        btn.disabled = false;\r\n                        return;\r\n                      }\r\n                      if (body.value.trim().length == 0) {\r\n                        alert(\"White spaces are not allowed.\");\r\n                        btn.disabled = false;\r\n                        return;\r\n                      }\r\n\r\n                      //    if(!regf.test(body.value)){\r\n                      //         alert(\"Please enter valid post description\");\r\n                      //         btn.disabled = false;\r\n                      //         return;\r\n                      //    }\r\n\r\n                      // let temp = JSON.parse(user);\r\n                      let flag = false;\r\n\r\n                      //let msg = await axios.post('http:/localhost:3000/signup', user);\r\n\r\n                      const instance = axios.create({\r\n                        baseURL: \"*\",\r\n                        timeout: 20000,\r\n                        withCredentials: true,\r\n                        headers: {\r\n                          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n                          \"Access-Control-Allow-Origin\": \"*\",\r\n                        },\r\n                        validateStatus: function (status) {\r\n                          return status < 500; // Resolve only if the status code is less than 500\r\n                        },\r\n                      });\r\n\r\n                      const data1 = await instance.get(\r\n                        `http://localhost:3000/session`\r\n                      );\r\n                      console.log(data1.data);\r\n\r\n                      const userdata1 = await instance.get(\r\n                        `http://localhost:3000/getUserData`\r\n                      );\r\n                      console.log(userdata1.data);\r\n\r\n                      let user = {\r\n                        title: title.value,\r\n                        body: body.value,\r\n                        userThatPosted: \"Akshay\",\r\n                        isPublic: true,\r\n                        uploadedImg: \"\",\r\n                      };\r\n                      let sampleonj = {\r\n                        firstName: userdata1.data.firstName,\r\n                        _id: data1.data.id,\r\n                      };\r\n\r\n                      let formData = new FormData();\r\n                      formData.append(\"title\", title.value);\r\n                      formData.append(\"body\", body.value);\r\n                      formData.append(\r\n                        \"userThatPosted\",\r\n                        JSON.stringify(sampleonj)\r\n                      );\r\n                      formData.append(\"isPublic\", true);\r\n                      formData.append(\"image\", file);\r\n\r\n                      console.log(formData.get(\"userThatPosted\"));\r\n\r\n                      setAbout([user]);\r\n                      console.log(user);\r\n                      const instance2 = axios.create({\r\n                        baseURL: \"*\",\r\n                        timeout: 20000,\r\n                        withCredentials: true,\r\n                        headers: {\r\n                          \"Content-Type\":\r\n                            \"multipart/form-data; boundary=${form._boundary}\",\r\n                          //;charset=UTF-8\r\n                        },\r\n                        validateStatus: function (status) {\r\n                          return status < 500; // Resolve only if the status code is less than 500\r\n                        },\r\n                      });\r\n                      await instance2\r\n                        .post(`http://localhost:3000/posts`, formData)\r\n                        .then(function (response) {\r\n                          console.log(response);\r\n\r\n                          if (response.status === 200) {\r\n                            alert(\"Post posted successfully!!!\");\r\n                            flag = true;\r\n                            window.location.reload();\r\n                          }\r\n                        })\r\n                        .catch(function (error) {\r\n                          console.log(error);\r\n                          //setSuccess(false);\r\n                          alert(\"There was some error please try again\");\r\n                        });\r\n\r\n                      e.target.reset();\r\n                      //btn.disabled = false;\r\n                      if (flag) {\r\n                        props.handleClose(false);\r\n                      }\r\n                    }}\r\n                  >\r\n                    <div className=\"mb-3\">\r\n                      <label for=\"title\" className=\"form-label\">\r\n                        Title\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        id=\"title\"\r\n                        aria-describedby=\"emailHelp\"\r\n                        ref={(node) => {\r\n                          title = node;\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                      <label htmlFor=\"body\" className=\"col-form-label\">\r\n                        Message:\r\n                      </label>\r\n                      <textarea\r\n                        className=\"form-control\"\r\n                        id=\"body\"\r\n                        ref={(node) => {\r\n                          body = node;\r\n                        }}\r\n                      ></textarea>\r\n                    </div>\r\n                    <div className=\"input-group mb-3\">\r\n                      {/* <label className=\"input-group-text\" htmlFor=\"inputGroupFile01\">Upload</label> */}\r\n                      {/* <input type=\"file\" className=\"form-control\" id=\"inputGroupFile01\" /> */}\r\n                      <label>\r\n                        <input\r\n                          onChange={fileSelected1}\r\n                          name=\"file\"\r\n                          type=\"file\"\r\n                          accept=\"image/*\"\r\n                        ></input>\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn btn-secondary me-3\"\r\n                        data-bs-dismiss=\"modal\"\r\n                      >\r\n                        Close\r\n                      </button>\r\n                      <button\r\n                        type=\"submit\"\r\n                        className=\"btn btn-primary\"\r\n                        id=\"sub\"\r\n                      >\r\n                        Publish\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/*  */}\r\n        </>\r\n      );\r\n    }\r\n  }\r\n};\r\n\r\nexport default Posts;\r\n"],"mappings":"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CA1C,UAAU,CAAC2D,WAAW,CAACjB,IAAb,CAAV;MACAV,UAAU,CAAC,KAAD,CAAV;IACD;;IACD,IAAIL,YAAY,CAACiC,MAAb,KAAwB,CAA5B,EAA+B;MAC7BrD,OAAO,CAACC,GAAR,CAAY,MAAZ;MACAyB,YAAY;;MACZ,IAAIJ,OAAJ,EAAa;QACX6B,SAAS;MACV,CAL4B,CAM7B;;IACD,CAPD,MAOO;MACLnD,OAAO,CAACC,GAAR,CAAY,sBAAZ;MACAwB,UAAU,CAAC,KAAD,CAAV,CAFK,CAGL;IACD;EACF,CAhFQ,EAgFN,CAACH,OAAD,CAhFM,CAAT;;EAkFA,SAASgC,eAAT,CAAyBC,CAAzB,EAA4B;IAC1BvD,OAAO,CAACC,GAAR,CAAYsD,CAAZ,EAD0B,CAE1B;EACD;;EAED,MAAMC,gBAAgB,GAAG,MAAM;IAC7BnD,YAAY,CAAC,KAAD,CAAZ;EACD,CAFD,CA7HuB,CAiIvB;;EACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAEE;;EAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;EAuBEd,aAAa,GACXC,OAAO,IACPA,OAAO,CAACiE,GAAR,CAAaF,CAAD,IAAO;IACjBvD,OAAO,CAACC,GAAR,CAAYsD,CAAZ;;IAEA,eAAeG,cAAf,CAA8BC,GAA9B,EAAmC;MACjC3D,OAAO,CAACC,GAAR,CAAY0D,GAAZ;MACA,MAAMhC,QAAQ,GAAGzD,KAAK,CAAC0D,MAAN,CAAa;QAC5BC,OAAO,EAAE,GADmB;QAE5BC,OAAO,EAA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"},"metadata":{},"sourceType":"module"}